const React = require('react');
const App = require('react-app');
const ReactDOMServer = require('react-dom/server');

const buildHTML = (component, data) => {
  const ele = React.createElement(App['react-app'], {
    component,
    data,
  });
  const html = ReactDOMServer.renderToString(ele);
  const perma = data.slug || '';
  const desc =
    data.excerpt || 'The design and development log of Adam Simpson.';

  return {
    html,
    perma,
    desc,
    title: data.title,
  };
};

module.exports = buildHTML;
